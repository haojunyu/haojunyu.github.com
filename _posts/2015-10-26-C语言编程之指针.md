---
layout:	default
title:	C语言编程之指针
category:	[C,Coding]
comments:	true
---
c语言之所以强大，以及其自由性，很大部分体现在其灵活的指针运用上。因此，说指针是c语言的灵魂，一点都不为过。同时，这种说法也让很多人产生误解，似乎只有C语言的指针才能算指针。basic不支持指针，在此不论。其实，pascal语言本身也是支持指针的。从最初的pascal发展至今的object pascal，可以说在指针运用上，丝毫不会逊色于c语言的指针。还有Java语言，虽然任何教程都没有提及指针，但是在我看来任何类对象（基本数据类型不确定）的创建都使用了指针。所以对指针的理解决定了你对编程语言的理解。



## 指针基础
[指针][baike_pointer]（Pointer）是编程语言中的一个对象，它的值直接指向（points to）存在电脑存储器中另一个地方的值。这里先介绍一下变量的三要素：变量名，存储地址和存储内容。在下图的内存分配表中，**存储变量(b)的地址(1008)**称为指向变量(b)的指针，意思是通过它(1008)能找到以它为地址的内存单元(b)。而**存储这个指针(1008)的变量(a)**叫做指针变量，又因为这个指针是指向b变量的，所以又叫它为指向变量b的指针变量。  
![pointer]({{site.baseurl}}/assets/images/pointers.png)

## 操作符&*
操作符&叫取址操作符，其后面常跟变量，用来获取变量的地址的操作符。

操作符\*叫取值操作符，其后面常跟地址，用来获取地址所定位内存空间里的值。如\*point 是point所指向的存储单元的内容，而对于这个内容的理解有两种，一个是变量本身，另一个是具体的存储内容，特别声明这里的内容是变量本身。换句话说就是存储内容的变化也会导致\*point值的变化。对于指针还有另外一点，就是指针的增加$point+i$，这里指针实际移动的距离是i\*sizeof(指针的基类型)。下面来说一下这个经典案例\*point++，该操作首先考虑优先级，因为这三个操作符都是一元同级操作符，所以按照从右往左的顺序操作。即\*point++等价于\*(point++)。

## 数组和指针
通常在函数调用中，我们会将数组名当作参数传递给函数，而函数中定义形参却通常定义为指针。对于这二者还是有很多相识点的。

* 最重要的点：==数组名代表的就是数组首元素的地址==。
* 数组名这样的操作(arr++)是不对的,而p却可以（p=arr，p++），因为arr是常量类型。
* 数组中的移位记住这样一个等式 \*(point+i )= point[i] 

这里稍微提一下二维数组的定义。比如

```c
    int arr[2][3]={1,2,3,4,5,6};
    int (*p)[3]=arr;
```
这里的二维数组指针p是代表包含3个int型元素的一维数组。
## 常量&指针

## 指针和字符串

## section



## 参考文献
1. [wiki指针][wiki_pointer]
2. [baike][baike_pointer]

[wiki_pointer]: https://en.wikipedia.org/wiki/Pointer_(computer_programming)
[baike_pointer]:    http://baike.baidu.com/link?url=_XybsUjdWr-YTN7SUA8q92EpiskSmO4EvROZLZmJbGals1NhK2sHZSRrsW80vuS-2hcie9Qk5IfP42sXOoC0h_

